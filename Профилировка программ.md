Профилировку программы на этапе разработки удобно выполнять с помощью `pyinstrument`  https://pyinstrument.readthedocs.io/en/latest/home.html
```bash
$ uv add pyinstrument
```

Можно, например, обернуть точку входа с помощью менеджера контекста
```python
from pyinstrument import Profiler

...
if __name__ == "__main__":
   profier = Profiler()
   with profiler:
       main()
	profiler.write_html("./output.html")
```
Или так еще
```python
from pyinstrument import Profiler

...
if __name__ == "__main__":
    profiler = Profiler()
	profiler.start()
	try:
	    main()
	finally:
	    profiler.stop()
		profiler.write_html("./auto_tune_profile.html")
```